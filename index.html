<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="icon" type="image/png" href="assets/logo.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionary</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<div class="loading-overlay" id="loadingOverlay">
    <div class="loading-spinner"></div>
</div>

<div id="loginScreen" class="login-screen">
    <div class="login-card">
        <div class="login-header">
            <img src="assets/logo.png" alt="Questionary Logo" class="login-logo">
            <h1>Questionary</h1>
            <p>Your Study Companion</p>
        </div>
        <form id="loginForm">
            <div class="form-group">
                <label for="username" class="form-label">Username</label>
                <input type="text" id="username" class="form-input" placeholder="Enter username" required>
            </div>
            <div class="form-group">
                <label for="password" class="form-label">Password</label>
                <input type="password" id="password" class="form-input" placeholder="Enter password" required>
            </div>
            <div class="form-group checkbox-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="rememberMe">
                    <span>Remember me</span>
                </label>
            </div>
            <button type="submit" class="btn btn-primary btn-block">
                <i class="fas fa-sign-in-alt"></i> Login
            </button>
        </form>
        <div class="login-credentials">
            <p><strong>Login Credentials:</strong></p>
            <p><i class="fas fa-user"></i> Username: <code>DPSNTRVMP</code></p>
            <p><i class="fas fa-key"></i> Password: <code>DPSNTRVMP@123</code></p>
        </div>
    </div>
</div>

<div id="app" style="display:none;">
    <header class="header">
        <div class="header-left" id="headerLeft">
            <div class="logo">
                <img src="assets/logo.png" alt="Questionary" class="logo-icon">
                <span>Questionary</span>
            </div>
            <button class="mobile-menu-toggle" id="mobileMenuToggle">
                <i class="fas fa-bars"></i>
            </button>
            <nav class="nav-links" id="navLinks">
                <a class="nav-link active" id="homeNav"><i class="fas fa-home"></i><span>Home</span></a>
                <a class="nav-link" id="favoritesNav"><i class="fas fa-star"></i><span>Favorites</span></a>
                <a class="nav-link" id="recentNav"><i class="fas fa-history"></i><span>Recent</span></a>
                <a class="nav-link" id="studyPlannerNav"><i class="fas fa-calendar-alt"></i><span>Planner</span></a>
                <a class="nav-link" id="flashcardsNav"><i class="fas fa-layer-group"></i><span>Flashcards</span></a>
                <a class="nav-link" id="notesNav"><i class="fas fa-sticky-note"></i><span>Notes</span></a>
                <a class="nav-link" id="progressNav"><i class="fas fa-chart-line"></i><span>Progress</span></a>
                <a class="nav-link" id="analyticsNav"><i class="fas fa-chart-bar"></i><span>Analytics</span></a>
            </nav>
        </div>
        <div class="header-right" id="headerRight">
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" id="globalSearch" placeholder="Search documents...">
            </div>
            <div class="download-dropdown-container">
                <button class="download-btn" id="downloadBtn" title="Download App">
                    <i class="fas fa-download"></i>
                </button>
                <div class="download-dropdown" id="downloadDropdown">
                    <div class="download-dropdown-header">
                        <i class="fas fa-desktop"></i>
                        <span>Get the Desktop App</span>
                    </div>
                    <p class="download-description">
                        Download the native version for better performance and optimization, offline access, and faster and better features and support.
                    </p>
                    <div class="download-buttons">
                        <a href="#" class="download-option" id="downloadExe">
                            <i class="fas fa-file-download"></i>
                            <span>Download .exe</span>
                        </a>
                        <a href="#" class="download-option" id="downloadMsi">
                            <i class="fas fa-file-download"></i>
                            <span>Download .msi</span>
                        </a>
                    </div>
                </div>
            </div>
            <button class="accessibility-toggle" id="accessibilityToggle" title="Accessibility Options">
                <i class="fas fa-universal-access"></i>
            </button>
            <button class="theme-toggle" id="themeToggle" title="Toggle Theme">
                <i class="fas fa-moon" id="themeIcon"></i>
            </button>
            <div class="user-badge">
                <i class="fas fa-user"></i>
                <span id="username-display">User</span>
                <span id="adminBadge" class="admin-badge" style="display:none;">ADMIN</span>
            </div>
        </div>
    </header>

    <div class="container" id="main-content">
        
        <div class="dashboard-header" id="dashboardHeader">
            <div class="stat-card">
                <div class="stat-icon documents"><i class="fas fa-file-alt"></i></div>
                <div class="stat-info">
                    <span class="stat-value" id="totalDocuments">0</span>
                    <span class="stat-label">Documents</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon favorites"><i class="fas fa-star"></i></div>
                <div class="stat-info">
                    <span class="stat-value" id="favoriteCount">0</span>
                    <span class="stat-label">Favorites</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon recent"><i class="fas fa-history"></i></div>
                <div class="stat-info">
                    <span class="stat-value" id="recentCount">0</span>
                    <span class="stat-label">Recent</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon streak"><i class="fas fa-fire"></i></div>
                <div class="stat-info">
                    <span class="stat-value" id="dashboardStreak">0</span>
                    <span class="stat-label">Day Streak</span>
                </div>
            </div>
        </div>

        
        <div class="breadcrumb-container">
            <button id="backBtn" class="btn-sm" style="display:none;" type="button">
                <i class="fas fa-arrow-left"></i>
                <span>Back</span>
            </button>
            <div id="breadcrumb" class="breadcrumb"></div>
        </div>

        
        <div class="search-results" id="searchResults" style="display:none;">
            <div id="searchResultsContainer"></div>
        </div>

        
        <section id="tilesSection" class="tiles-section">
            <div class="section-header">
                <h2 class="section-title"><i class="fas fa-folder-open"></i> Documents</h2>
                <div class="view-controls">
                    <button id="gridView" type="button" class="view-toggle active"><i class="fas fa-th-large"></i></button>
                    <button id="listView" type="button" class="view-toggle"><i class="fas fa-list"></i></button>
                    <button id="sortToggle" type="button" class="sort-toggle"><i class="fas fa-sort-alpha-down"></i></button>
                </div>
            </div>
            <div id="tilesContainer" class="tiles-grid"></div>
            <iframe id="pdfViewer" style="display:none; width:100%; height:calc(100vh - 200px); min-height:500px; border:none; border-radius:12px; background:var(--surface);"></iframe>
        </section>

        
        <section id="favoritesSection" class="tiles-section">
            <h2 class="section-title"><i class="fas fa-star"></i> Favorites</h2>
            <div id="favoritesContainer" class="tiles-grid"></div>
        </section>

        
        <section id="recentSection" class="tiles-section">
            <h2 class="section-title"><i class="fas fa-history"></i> Recent</h2>
            <div id="recentContainer" class="tiles-grid"></div>
        </section>

        
        <section id="analyticsSection" class="tiles-section">
            <h2 class="section-title"><i class="fas fa-chart-bar"></i> Analytics</h2>
            
                        <div class="analytics-stats-row">
                <div class="analytics-stat-card">
                    <div class="analytics-stat-icon"><i class="fas fa-desktop"></i></div>
                    <div class="analytics-stat-info">
                        <span class="analytics-stat-value" id="totalSessions">0</span>
                        <span class="analytics-stat-label">Total Sessions</span>
                    </div>
                </div>
                <div class="analytics-stat-card">
                    <div class="analytics-stat-icon"><i class="fas fa-file-alt"></i></div>
                    <div class="analytics-stat-info">
                        <span class="analytics-stat-value" id="totalDocsViewed">0</span>
                        <span class="analytics-stat-label">Docs Viewed</span>
                    </div>
                </div>
                <div class="analytics-stat-card">
                    <div class="analytics-stat-icon"><i class="fas fa-calendar-check"></i></div>
                    <div class="analytics-stat-info">
                        <span class="analytics-stat-value" id="daysActive">0</span>
                        <span class="analytics-stat-label">Days Active</span>
                    </div>
                </div>
                <div class="analytics-stat-card">
                    <div class="analytics-stat-icon"><i class="fas fa-chart-line"></i></div>
                    <div class="analytics-stat-info">
                        <span class="analytics-stat-value" id="avgSessions">0</span>
                        <span class="analytics-stat-label">Avg/Day</span>
                    </div>
                </div>
            </div>
            
            <div class="analytics-grid">
                <div class="analytics-card">
                    <h3><i class="fas fa-calendar-day"></i> Activity (Last 7 Days)</h3>
                    <div id="accessChart" class="chart-container"></div>
                </div>
                <div class="analytics-card">
                    <h3><i class="fas fa-book"></i> Top Subjects</h3>
                    <div id="subjectChart" class="chart-container"></div>
                </div>
            </div>
            
            <div class="analytics-card" style="margin-top: 1.5rem;">
                <h3><i class="fas fa-history"></i> Recent Activity</h3>
                <div id="recentActivityList" class="recent-activity-list"></div>
            </div>
        </section>

        
        <section id="plannerSection" class="tiles-section">
            <div class="section-header">
                <h2 class="section-title"><i class="fas fa-calendar-alt"></i> Study Planner</h2>
                <button id="addStudySessionBtn" type="button" class="btn-sm"><i class="fas fa-plus"></i> Add Session</button>
            </div>
            <div class="planner-grid">
                <div class="planner-calendar">
                    <div class="calendar-header">
                        <button id="prevMonth" type="button" class="calendar-nav"><i class="fas fa-chevron-left"></i></button>
                        <h3 id="currentMonth"></h3>
                        <button id="nextMonth" type="button" class="calendar-nav"><i class="fas fa-chevron-right"></i></button>
                    </div>
                    <div class="calendar-weekdays">
                        <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
                    </div>
                    <div id="calendarDays" class="calendar-days"></div>
                </div>
                <div class="planner-sessions">
                    <h3><i class="fas fa-clock"></i> Upcoming Sessions</h3>
                    <div id="sessionsList" class="sessions-list"></div>
                </div>
            </div>
        </section>

        
        <section id="flashcardsSection" class="tiles-section">
            <div class="section-header">
                <h2 class="section-title"><i class="fas fa-layer-group"></i> Flashcards</h2>
                <button id="createDeckBtn" type="button" class="btn-sm"><i class="fas fa-plus"></i> New Deck</button>
            </div>
            <div id="flashcardsGrid" class="flashcards-grid"></div>
        </section>

        
        <section id="notesSection" class="tiles-section">
            <div class="section-header">
                <h2 class="section-title"><i class="fas fa-sticky-note"></i> Notes</h2>
                <button id="createNoteBtn" type="button" class="btn-sm"><i class="fas fa-plus"></i> New Note</button>
            </div>
            <div id="notesGrid" class="notes-grid"></div>
        </section>

        
        <section id="progressSection" class="tiles-section">
            <h2 class="section-title"><i class="fas fa-chart-line"></i> Progress</h2>
            
            <div class="progress-overview">
                <div class="progress-ring-container">
                    <div class="progress-ring">
                        <svg viewBox="0 0 140 140">
                            <circle class="progress-ring-bg" cx="70" cy="70" r="60"></circle>
                            <circle class="progress-ring-fill" id="progressRingFill" cx="70" cy="70" r="60"></circle>
                        </svg>
                        <div class="progress-ring-text">
                            <span class="progress-value" id="overallProgress">0%</span>
                            <span class="progress-label">Average completion</span>
                        </div>
                    </div>
                </div>
                
                <div class="progress-stats">
                    <div class="progress-stat-item">
                        <div class="progress-stat-icon"><i class="fas fa-clock"></i></div>
                        <div class="progress-stat-info">
                            <div class="progress-stat-value" id="totalStudyTime">0h 0m</div>
                            <div class="progress-stat-label">Total Study Time</div>
                        </div>
                    </div>
                    <div class="progress-stat-item">
                        <div class="progress-stat-icon"><i class="fas fa-fire"></i></div>
                        <div class="progress-stat-info">
                            <div class="progress-stat-value" id="studyStreak">0 days</div>
                            <div class="progress-stat-label">Current Streak</div>
                        </div>
                    </div>
                    <div class="progress-stat-item">
                        <div class="progress-stat-icon"><i class="fas fa-bolt"></i></div>
                        <div class="progress-stat-info">
                            <div class="progress-stat-value" id="productiveHour">--</div>
                            <div class="progress-stat-label">Most Productive Hour</div>
                        </div>
                    </div>
                    <div class="progress-stat-item">
                        <div class="progress-stat-icon"><i class="fas fa-check-circle"></i></div>
                        <div class="progress-stat-info">
                            <div class="progress-stat-value" id="completedDocs">0</div>
                            <div class="progress-stat-label">Completed Documents</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="progress-filters">
                <button class="progress-filter active" data-filter="all">All</button>
                <button class="progress-filter" data-filter="in-progress">In Progress</button>
                <button class="progress-filter" data-filter="completed">Completed</button>
            </div>
            
            <div class="progress-list" id="progressList">
                <p class="empty-state"><i class="fas fa-chart-line"></i> No progress tracked yet. Open documents to track your progress.</p>
            </div>
        </section>
    </div>

    
    <div class="accessibility-panel" id="accessibilityPanel">
        <h3><i class="fas fa-universal-access"></i> Accessibility</h3>
        <div class="accessibility-option" id="highContrastToggle">
            <span class="accessibility-option-label">High Contrast</span>
            <div class="accessibility-switch"></div>
        </div>
        <div class="accessibility-option" id="largeTextToggle">
            <span class="accessibility-option-label">Large Text</span>
            <div class="accessibility-switch"></div>
        </div>
        <div class="accessibility-option" id="reducedMotionToggle">
            <span class="accessibility-option-label">Reduced Motion</span>
            <div class="accessibility-switch"></div>
        </div>
        <div class="accessibility-option" id="enhancedFocusToggle">
            <span class="accessibility-option-label">Enhanced Focus</span>
            <div class="accessibility-switch"></div>
        </div>
    </div>

    
    <div class="modal-overlay" id="noteModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="noteModalTitle"><i class="fas fa-sticky-note"></i> Create Note</h3>
                <button class="modal-close" id="closeNoteModal"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Title</label>
                    <input type="text" class="form-input" id="noteTitle" placeholder="Note title...">
                </div>
                <div class="form-group">
                    <label class="form-label">Category</label>
                    <select class="form-input" id="noteCategory">
                        <option value="general">General</option>
                        <option value="physics">Physics</option>
                        <option value="chemistry">Chemistry</option>
                        <option value="biology">Biology</option>
                        <option value="math">Math</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Content</label>
                    <textarea class="form-input form-textarea" id="noteContent" placeholder="Write your note here..." rows="8"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelNoteBtn">Cancel</button>
                <button class="btn btn-primary" id="saveNoteBtn"><i class="fas fa-save"></i> Save Note</button>
            </div>
        </div>
    </div>

    
    <div class="modal-overlay" id="flashcardModal">
        <div class="modal modal-lg">
            <div class="modal-header">
                <h3 id="flashcardModalTitle"><i class="fas fa-layer-group"></i> Create Flashcard Deck</h3>
                <button class="modal-close" id="closeFlashcardModal"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Deck Name</label>
                    <input type="text" class="form-input" id="deckName" placeholder="e.g., Physics Chapter 1">
                </div>
                <div class="form-group">
                    <label class="form-label">Subject</label>
                    <select class="form-input" id="deckSubject">
                        <option value="physics">Physics</option>
                        <option value="chemistry">Chemistry</option>
                        <option value="biology">Biology</option>
                        <option value="math">Math</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Cards</label>
                    <div id="cardsContainer"></div>
                    <button class="btn btn-secondary" id="addCardBtn" style="margin-top: 0.5rem;"><i class="fas fa-plus"></i> Add Card</button>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelFlashcardBtn">Cancel</button>
                <button class="btn btn-primary" id="saveDeckBtn"><i class="fas fa-save"></i> Save Deck</button>
            </div>
        </div>
    </div>

    
    <div class="modal-overlay" id="studyModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="studyModalTitle"><i class="fas fa-graduation-cap"></i> Study Mode</h3>
                <button class="modal-close" id="closeStudyModal"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body" style="text-align: center;">
                <div class="study-progress">
                    <span id="cardProgress">1 / 10</span>
                </div>
                <div class="flashcard-container">
                    <div class="flashcard" id="activeFlashcard">
                        <div class="flashcard-front" id="cardFront">Question</div>
                        <div class="flashcard-back" id="cardBack">Answer</div>
                    </div>
                </div>
                <p class="study-hint">Click the card to flip</p>
            </div>
            <div class="modal-footer" style="justify-content: center;">
                <button class="btn btn-secondary" id="prevCardBtn"><i class="fas fa-chevron-left"></i> Previous</button>
                <button class="btn btn-primary" id="flipCardBtn"><i class="fas fa-sync-alt"></i> Flip</button>
                <button class="btn btn-secondary" id="nextCardBtn">Next <i class="fas fa-chevron-right"></i></button>
            </div>
        </div>
    </div>

    
    <div class="modal-overlay" id="sessionModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="sessionModalTitle"><i class="fas fa-calendar-plus"></i> Add Study Session</h3>
                <button class="modal-close" id="closeSessionModal"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Subject</label>
                    <input type="text" class="form-input" id="sessionSubject" placeholder="e.g., Physics Chapter 5">
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-input" id="sessionDate">
                </div>
                <div class="form-group">
                    <label class="form-label">Time</label>
                    <input type="time" class="form-input" id="sessionTime">
                </div>
                <div class="form-group">
                    <label class="form-label">Duration (minutes)</label>
                    <input type="number" class="form-input" id="sessionDuration" placeholder="60" min="15" max="480">
                </div>
                <div class="form-group">
                    <label class="form-label">Notes (optional)</label>
                    <textarea class="form-input" id="sessionNotes" rows="3" placeholder="What do you plan to study?"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelSessionBtn">Cancel</button>
                <button class="btn btn-primary" id="saveSessionBtn"><i class="fas fa-save"></i> Save Session</button>
            </div>
        </div>
    </div>

    
    
    
    <button class="quick-links-toggle" id="quickLinksToggle" title="Quick Links">
        <i class="fas fa-link"></i>
    </button>
    
    
    <div class="quick-links-panel" id="quickLinksPanel">
        <div class="quick-links-header">
            <h3><i class="fas fa-link"></i> Quick Links</h3>
            <button class="quick-links-close" id="quickLinksClose" title="Close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="quick-links-list" id="quickLinksList"></div>
        <button class="btn btn-sm" id="addQuickLinkBtn" style="margin: 12px; width: calc(100% - 24px);">
            <i class="fas fa-plus"></i> Add Current Location
        </button>
    </div>
    
    
    <div class="timer-panel" id="timerPanel" style="display:none;">
        <div class="timer-header" id="timerDragHandle">
            <div class="timer-title">
                <i class="fas fa-stopwatch"></i>
                <span>Study Timer</span>
            </div>
            <div class="timer-header-actions">
                <button class="timer-header-btn" id="timerMiniLap" title="Add Lap" disabled style="opacity:0.5;">
                    <i class="fas fa-flag"></i>
                </button>
                <button class="timer-header-btn" id="timerMinimize" title="Minimize">
                    <i class="fas fa-minus"></i>
                </button>
                <button class="timer-header-btn" id="timerClose" title="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="timer-body">
            <div class="timer-display-wrapper">
                <div id="timerDisplay">00:00:00</div>
                <div class="timer-progress">
                    <div id="timerProgressBar"></div>
                </div>
                <div id="timerStatus">Select a duration</div>
            </div>
            <div class="timer-presets" id="timerPresets">
                <button class="timer-preset-btn" data-duration="900"><span>15 min</span></button>
                <button class="timer-preset-btn" data-duration="1800"><span>30 min</span></button>
                <button class="timer-preset-btn" data-duration="2700"><span>45 min</span></button>
                <button class="timer-preset-btn" data-duration="3600"><span>1 hour</span></button>
                <button class="timer-preset-btn" data-duration="5400"><span>1.5 hours</span></button>
                <button class="timer-preset-btn" data-duration="7200"><span>2 hours</span></button>
            </div>
            <div class="timer-controls" id="timerControls" style="display:none;">
                <button class="timer-btn timer-btn-start" id="timerStart"><i class="fas fa-play"></i> <span>Start</span></button>
                <button class="timer-btn timer-btn-pause" id="timerPause" style="display:none;"><i class="fas fa-pause"></i> <span>Pause</span></button>
                <button class="timer-btn timer-btn-resume" id="timerResume" style="display:none;"><i class="fas fa-play"></i> <span>Resume</span></button>
                <button class="timer-btn timer-btn-lap" id="timerLap" style="display:none;"><i class="fas fa-flag"></i> <span>Lap</span></button>
                <button class="timer-btn timer-btn-reset" id="timerReset"><i class="fas fa-redo"></i> <span>Reset</span></button>
            </div>
            <div id="timerLaps"></div>
        </div>
        <div class="timer-resize-handle" id="timerResizeHandle"></div>
    </div>
    
    
    <button class="timer-reopen-btn" id="timerReopenBtn" style="display:none;" title="Reopen Timer">
        <i class="fas fa-stopwatch"></i>
    </button>
</div>

<script src="js/app.js"></script>
</body>
</html>
